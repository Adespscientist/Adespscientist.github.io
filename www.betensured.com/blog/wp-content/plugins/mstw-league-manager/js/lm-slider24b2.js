jQuery(document).ready(function($){$(".lms-game-number").each(function(){var startingGame=$(this).data('game-number');var suff=$(this).attr('id').replace('lms-game-number','');var gameBlockWidth=$('.lms-slider-content'+suff+' li.lms-list-item').outerWidth(true);var totalGames=$('.lms-slider-content'+suff+' ul li.lms-list-item').length;$('.lms-slider-content'+suff).css({'width':gameBlockWidth*totalGames});$('.lms-slider-content'+suff+' ul').css({'width':gameBlockWidth*totalGames});var viewportWidth=$('.lms-viewport'+suff).outerWidth();var maxHeight=Math.max.apply(null,$('.lms-slider-content'+suff+' .lms-list-item').map(function()
{return $(this).height();}).get());$('.lms-viewport'+suff).css({'min-height':maxHeight});var rightStop=-(totalGames*gameBlockWidth-viewportWidth);var newLeftPos=Math.max(0-gameBlockWidth*startingGame,rightStop);$('.lms-viewport'+suff+' ul').css({'left':newLeftPos});});$('.lms-next').click(function(){var suff=$(this).attr('id').replace('lms-next','');var slider_id='.lms-slider-content'+suff;var gameBlockWidth=$(slider_id+' li.lms-list-item').outerWidth();var viewportWidth=$('.lms-viewport'+suff).outerWidth();var nbrBlocks=Math.floor(viewportWidth/gameBlockWidth);var hiddenBit=(nbrBlocks+1)*gameBlockWidth-viewportWidth;var totalGames=$(slider_id+' ul li.lms-list-item').length;if(totalGames>=nbrBlocks){var currLeftPos=parseInt($('.lms-viewport'+suff+' ul').css('left'));var rightStop=-(totalGames*gameBlockWidth-viewportWidth);var slideDistance=(totalGames<=1)?gameBlockWidth:Math.floor(viewportWidth/gameBlockWidth)*gameBlockWidth;var newLeftPos=Math.max(currLeftPos-slideDistance,rightStop);var newLeftPosFloor=Math.floor(newLeftPos/gameBlockWidth);var evenLeftPos=newLeftPosFloor*gameBlockWidth;$('.lms-viewport'+suff+' ul').css({'left':evenLeftPos});}});$('.lms-prev').click(function(){var suff=$(this).attr('id').replace('lms-prev','');var slider_id='.lms-slider-content'+suff;var gameBlockWidth=$(slider_id+' li.lms-list-item').outerWidth();var viewportWidth=$('.lms-viewport'+suff).outerWidth();var nbrBlocks=Math.floor(viewportWidth/gameBlockWidth);var totalGames=$(slider_id+' ul li.lms-list-item').length;if(totalGames>=nbrBlocks){var currLeftPos=parseInt($('.lms-viewport'+suff+' ul').css('left'));var slideDistance=(totalGames<=1)?gameBlockWidth:Math.floor(viewportWidth/gameBlockWidth)*gameBlockWidth;var newLeftPos=Math.min(currLeftPos+slideDistance,0);var newLeftPosFloor=Math.floor(newLeftPos/gameBlockWidth);var evenLeftPos=newLeftPosFloor*gameBlockWidth;$('.lms-viewport'+suff+' ul').css({'left':evenLeftPos});}});});